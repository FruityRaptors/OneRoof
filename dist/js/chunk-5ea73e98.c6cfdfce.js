(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ea73e98"],{"0bc6":function(t,e,s){},"126a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{elevation:"0 fill-height"}},[!1===t.dming?s("v-card",{attrs:{elevation:"0"}},t._l(t.users,(function(e){return s("v-card",{key:e.id,staticClass:"d-flex orange lighten-4",attrs:{elevation:"0"},on:{click:function(s){return t.checkDmTarget(e)}}},[s("v-avatar",{staticClass:"ml-3 mt-5",attrs:{size:"30"}},[s("Avatar",{attrs:{src:e.photo_url,username:e.username,size:30}})],1),s("v-card-title",[t._v(" "+t._s(e.username)+" ")])],1)})),1):s("SingleChat",{attrs:{roomkey:t.roomkey,user:t.dmingUser},on:{back:function(e){t.dming=!1}}})],1)},i=[],n=s("1da1"),r=(s("96cf"),s("4de4"),s("4a89")),o=s.n(r),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"orange lighten-5 fill-height"},[s("v-chip",{staticClass:"ma-4 mt-7 d-flex",attrs:{color:"orange lighten-3"}},[s("v-avatar",{attrs:{color:"orange lighten-4"},on:{click:function(e){return t.$emit("back")}}},[s("v-icon",[t._v(" mdi-arrow-left ")])],1),s("v-card-subtitle",{staticClass:"d-flex"},[t._v(" Messaging... "+t._s(t.user)+" ")])],1),s("v-divider"),s("v-card",{staticClass:"pb-10 mb-10 orange lighten-5 mx-auto",attrs:{elevation:"0"}},[s("v-card",{staticClass:"chat-box orange lighten-5",attrs:{id:"chat-box",elevation:"0"},on:{update:function(e){return t.$vuetify.goTo(99999)}}},t._l(t.messages,(function(e){return s("v-card",{key:e.id,class:e.username==t.username?"text-right d-flex align-end flex-column mx-auto orange lighten-5 pr-0 mb-0":"text-left d-flex align-start flex-column  mx-auto orange lighten-5 mb-0 pl-3",attrs:{elevation:"0"}},[s("v-subheader",{staticClass:"lighten-4 mb-0 pa-0",attrs:{elevation:"0","max-width":"200",height:"20"}},[s("v-avatar",{attrs:{size:"20"}},[e.image?s("v-img",{attrs:{src:e.image}}):s("Avatar",{attrs:{username:e.username,size:20}})],1),s("v-card-subtitle",{staticClass:"d-inline-flex"},[t._v(" "+t._s(e.username)+" ")])],1),s("v-card",{staticClass:"mb-2 mr-4 pa-2",attrs:{rounded:"","max-width":"250",elevation:"0",color:e.username==t.username?"orange accent-2 font-weight-light text-justify":"orange accent-1 font-weight-light"}},[t._v(t._s(e.content)+" ")])],1)})),1)],1),s("v-footer",{attrs:{rounded:"","max-height":"65",color:"orange lighten-4",padless:"",fixed:""}},[s("v-text-field",{staticClass:"d-flex align-start mt-3 pl-5",attrs:{type:"text",placeholder:"Write your message...",dense:"",rounded:"",filled:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendMessage(),t.$vuetify.goTo(99999)}},model:{value:t.inputMessage,callback:function(e){t.inputMessage=e},expression:"inputMessage"}}),s("v-btn",{staticClass:"mr-2 mb-3 orange lighten-4",attrs:{fab:"",elevation:"0"},on:{click:function(e){e.preventDefault(),t.sendMessage(),t.$vuetify.goTo(99999)}}},[s("v-icon",{attrs:{size:"30",color:"orange darken-1"}},[t._v(" mdi-send ")])],1)],1)],1)},c=[],u=(s("159b"),s("b64b"),s("2591")),h={name:"SingleChat",components:{Avatar:o.a},props:{roomkey:String,user:String},data:function(){return{messages:[],house_key:"",inputMessage:"",username:this.$store.state.user.username}},created:function(){var t=this,e=u["a"].database().ref(this.roomkey).limitToLast(50);e.on("value",(function(e){var s=e.val(),a=[];Object.keys(s).forEach((function(t){a.push({id:t,username:s[t].username,content:s[t].content,image:s[t].image})})),t.messages=a,t.scrollBottom()}))},methods:{sendMessage:function(){var t=u["a"].database().ref(this.roomkey);if(""!==this.inputMessage&&null!==this.inputMessage){var e={username:this.$store.state.user.username,content:this.inputMessage,image:this.$store.state.user.photo_url};t.push(e),this.lastMessage=this.messages[this.messages.length-1].username,this.inputMessage=""}},scrollBottom:function(){return this.$vuetify.goTo(99999)}}},d=h,p=s("2877"),f=s("6544"),g=s.n(f),m=s("8212"),v=s("8336"),b=s("b0af"),C=s("99d9"),k=s("cc20"),y=s("ce7e"),x=s("553a"),$=s("132d"),O=s("adda"),_=s("e0c7"),j=s("8654"),B=Object(p["a"])(d,l,c,!1,null,null,null),w=B.exports;g()(B,{VAvatar:m["a"],VBtn:v["a"],VCard:b["a"],VCardSubtitle:C["b"],VChip:k["a"],VDivider:y["a"],VFooter:x["a"],VIcon:$["a"],VImg:O["a"],VSubheader:_["a"],VTextField:j["a"]});var S={name:"DM",components:{Avatar:o.a,SingleChat:w},data:function(){return{dming:!1,roomkey:"",dmingUser:""}},mounted:function(){this.$store.dispatch("populateVictimList",this.$store.state.user.house_keys[0])},methods:{filterUserList:function(t){var e=this;return t.filter((function(t){return t.username!==e.$store.state.user.username}))},checkDmTarget:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={username_1:t.id,username_2:e.$store.state.user.id},s.next=3,e.$store.dispatch("checkDmTarget",a);case 3:i=s.sent,e.dmingUser=t.username,e.roomkey=i,e.dming=!0;case 7:case"end":return s.stop()}}),s)})))()}},computed:{users:function(){return this.filterUserList(this.$store.state.usersInSameHouse)}}},V=S,M=Object(p["a"])(V,a,i,!1,null,null,null);e["default"]=M.exports;g()(M,{VAvatar:m["a"],VCard:b["a"],VCardTitle:C["d"]})},"553a":function(t,e,s){"use strict";var a=s("5530"),i=(s("a9e3"),s("c7cd"),s("b5b6"),s("8dd9")),n=s("3a66"),r=s("d10f"),o=s("58df"),l=s("80d2");e["a"]=Object(o["a"])(i["a"],Object(n["a"])("footer",["height","inset"]),r["a"]).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return Object(a["a"])(Object(a["a"])({},i["a"].options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(l["f"])(t),left:Object(l["f"])(this.computedLeft),right:Object(l["f"])(this.computedRight),bottom:Object(l["f"])(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,e,this.$slots.default)}})},"8adc":function(t,e,s){},b5b6:function(t,e,s){},cc20:function(t,e,s){"use strict";var a=s("3835"),i=s("5530"),n=(s("4de4"),s("8adc"),s("58df")),r=s("0789"),o=s("9d26"),l=s("a9ad"),c=s("4e82"),u=s("7560"),h=s("f2e7"),d=s("1c87"),p=s("af2b"),f=s("d9bd");e["a"]=Object(n["a"])(l["a"],p["a"],d["a"],u["a"],Object(c["a"])("chipGroup"),Object(h["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default:function(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:function(){return{proxyClass:"v-chip--active"}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({"v-chip":!0},d["a"].options.computed.classes.call(this)),{},{"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose},this.themeClasses),this.sizeableClasses),this.groupClasses)},hasClose:function(){return Boolean(this.close)},isClickable:function(){return Boolean(d["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created:function(){var t=this,e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach((function(e){var s=Object(a["a"])(e,2),i=s[0],n=s[1];t.$attrs.hasOwnProperty(i)&&Object(f["a"])(i,n,t)}))},methods:{click:function(t){this.$emit("click",t),this.chipGroup&&this.toggle()},genFilter:function(){var t=[];return this.isActive&&t.push(this.$createElement(o["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(r["b"],t)},genClose:function(){var t=this;return this.$createElement(o["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.$emit("click:close"),t.$emit("update:active",!1)}}},this.closeIcon)},genContent:function(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render:function(t){var e=[this.genContent()],s=this.generateRouteLink(),a=s.tag,n=s.data;n.attrs=Object(i["a"])(Object(i["a"])({},n.attrs),{},{draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:n.attrs.tabindex}),n.directives.push({name:"show",value:this.active}),n=this.setBackgroundColor(this.color,n);var r=this.textColor||this.outlined&&this.color;return t(a,this.setTextColor(r,n),e)}})},e0c7:function(t,e,s){"use strict";var a=s("5530"),i=(s("0bc6"),s("7560")),n=s("58df");e["a"]=Object(n["a"])(i["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:Object(a["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})}}]);
//# sourceMappingURL=chunk-5ea73e98.c6cfdfce.js.map